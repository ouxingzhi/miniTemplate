<!doctype html>
<html>
	<head>
		<title>test</title>
		<script type="text/javascript" src="../src/minitemplate.js"></script>
		<script type="text/javascript" src="./underscore.js"></script>
	</head>
	<body>
		<h3>speed test</h3>
		<div id="minitemplate"></div>
		<div id="underscore"></div>
		<script type="text/javascript"> 
			var data = [
				{
					name:'ouxingzhi',
					age:26
				},
				{
					name:'zhansan',
						age:22
				},
				{
					name:'idieee',
					age:23
				}
			];
			var str = [
				'<%for(var i=0;i<data.length;i++){%>',
					'<div>',
					'<h4>name:<%=data[i].name%></h4>',
					'<strong>age:<%=data[i].age%></strong>',
					'</div>',
				'<%}%>'
			].join('');
			var tpl = miniTemplate(str),html;
			var tpl2 = _.template(str);
			var minitemplate = document.getElementById('minitemplate'),
				underscore = document.getElementById('underscore'),
				start = new Date;
			
			for(var i=0;i<1000;i++){
				html = tpl({data:data});
			}
			minitemplate.innerHTML =  '<br/>minitemplate: ' + (new Date - start);
			start = new Date;
			for(var i=0;i<1000;i++){
				html = tpl({data:data});
			}
			underscore.innerHTML = '<br />underscore: _.template: ' + (new Date - start); 
		</script>
	</body>
</html>